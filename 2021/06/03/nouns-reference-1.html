<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>名词解释 - ASP后端相关 | </title><meta name="author" content="pilotqvq"><meta name="copyright" content="pilotqvq"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JWT权限验证Bearer Authentication a bearer token is: by presenting a valid token you will be automatically authenticated, without having to match or present any additional signature or details to prove.  I">
<meta property="og:type" content="article">
<meta property="og:title" content="名词解释 - ASP后端相关">
<meta property="og:url" content="https://c-parrot.github.io/2021/06/03/nouns-reference-1">
<meta property="og:site_name">
<meta property="og:description" content="JWT权限验证Bearer Authentication a bearer token is: by presenting a valid token you will be automatically authenticated, without having to match or present any additional signature or details to prove.  I">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/名词解释/TIM截图20190412213930.png">
<meta property="article:published_time" content="2021-06-03T09:24:16.000Z">
<meta property="article:modified_time" content="2021-08-09T01:47:49.724Z">
<meta property="article:author" content="pilotqvq">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/名词解释/TIM截图20190412213930.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://c-parrot.github.io/2021/06/03/nouns-reference-1"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"HPFFJ9C6DB","apiKey":"78e3e87b096c5c0bff76287be921d775","indexName":"pilotqvq","hits":{"per_page":6},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '名词解释 - ASP后端相关',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-08-09 09:47:49'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/static-butterfly/dist/css/index.min.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/hexo相关/无职转生.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">18</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/"></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">名词解释 - ASP后端相关</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon fas fa-history"></i><span class="post-meta-label">Updated</span><time datetime="2021-08-09T01:47:49.724Z" title="undefined 2021-08-09 09:47:49">2021-08-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">6.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>25min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="名词解释 - ASP后端相关"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="JWT权限验证"><a href="#JWT权限验证" class="headerlink" title="JWT权限验证"></a>JWT权限验证</h1><h2 id="Bearer-Authentication"><a href="#Bearer-Authentication" class="headerlink" title="Bearer Authentication"></a>Bearer Authentication</h2><p> a bearer token is: by presenting a valid token you will be automatically authenticated, without having to match or present any additional signature or details to prove.</p>
<p> It is often used in the OAuth 2.0.</p>
<p>In practice, a bearer token is usually presented using the HTTP <code>Authorization</code>header:</p>
<p><code>Authorization: Bearer BEARER_TOKEN</code></p>
<h2 id="JSON-Web-Tokens-JWT"><a href="#JSON-Web-Tokens-JWT" class="headerlink" title="JSON Web Tokens (JWT)"></a>JSON Web Tokens (JWT)</h2><p>是一种基于JSON的、用于在网络上声明某种主张的令牌（token）。</p>
<p>JWT通常由三部分组成: 头信息（header）, 消息体（payload）和签名（signature）。</p>
<p><strong>Header</strong>.<strong>Payload</strong>.<strong>Signature</strong></p>
<ul>
<li>HEADER：A JSON object which indicates the type of the token (JWT) and the algorithm used to sign it. alg used to generate the signature </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;alg&quot;:&quot;HS256&quot;,</span><br><span class="line">&quot;typ&quot;:&quot;JWT&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Payload: asserted claims of the entity. 如：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;sub&quot;:&quot;1234567890&quot;,</span><br><span class="line">&quot;name&quot;:&quot;John Doe&quot;,</span><br><span class="line">&quot;iat&quot;:2142138478</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中sub是subject。iat是issued at.</p>
<ul>
<li>SIGNATURE: verify the token has not been tampered with.</li>
</ul>
<p>把编码后的Header和Payload信息加在一起，一个密钥，然后使用一个强加密算法（header中指定的那个），如 HmacSHA256，进行加密。</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/JWT1.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/JWT2.png"></p>
<p>客户端将获取到的“令牌”放到http请求的headers中后，向主服务系统发起请求。主服务系统收到请求后会从headers中获取“令牌”，并从“令牌”中解析出该用户的身份权限，然后做出相应的处理</p>
<p>客户端收到服务器返回的 JWT，<strong>可以储存在 Cookie 里面，也可以储存在 localStorage。</strong></p>
<p>此后，客户端每次与服务器通信，都要带上这个 JWT。你<strong>可以把它放在 Cookie 里面自动发送，</strong>但是这样不能跨域，所以<strong>更好的做法是放在 HTTP 请求的头信息Authorization字段里面。</strong></p>
<h1 id="协变和逆变-C"><a href="#协变和逆变-C" class="headerlink" title="协变和逆变 (C#)"></a>协变和逆变 (C#)</h1><p>如果一个泛型类型I&lt;T&gt;，根据类型参数  得出的结构，保留了赋值的兼容方向，那么这个泛型类型是协变的。</p>
<p>即如果一个泛型类型I<T>,对于类型A和B，如果A能赋值给B，而且I&lt;A&gt;也能赋值给I&lt;B&gt;,即保留了赋值的兼容方向，那么说I&lt;T&gt;这个泛型类就是协变的。</p>
<p>相反，逆变就是反转了赋值的兼容方向。</p>
<p>不变就是既不是协变也不是逆变。</p>
<p>在 C# 中，协变和逆变允许  <strong>数组类型、委托类型和泛型类型</strong>   参数进行隐式引用转换。</p>
<p>朴素点说，协变逆变指的是模板参数（就是那个T啦）和模板类（比如IEnumerable&lt;&gt;，List&lt;&gt;，Action&lt;&gt;，之类的)之间保持“is a”关系的联动。</p>
<h3 id="背景知识：协变和反变"><a href="#背景知识：协变和反变" class="headerlink" title="背景知识：协变和反变"></a>背景知识：协变和反变</h3><p>任何类型T都有其对应的数组类型T[]。</p>
<p>那么我们的问题就来了，如果两个类型T和U之间存在一种安全的隐式转换，那么对应的数组类型T[]和U[]之间是否也存在这种转换呢？这就牵扯到了将原本类型上存在的类型转换映射到他们的数组类型上的能力，这种能力就称为“可变性（Variance）”。</p>
<p>在.NET世界中，唯一允许可变性的类型转换就是由继承关系带来的“子类引用-&gt;父类引用”转换。举个例子，就是String类型继承自Object类型，所以任何String的引用都可以安全地转换为Object引用。</p>
<p>我们发现String[]数组类型的引用也继承了这种转换能力，它可以转换成Object[]数组类型的引用，</p>
<p>数组这种与原始类型转换方向相同的可变性就称作协变（covariant）。</p>
<p>数组不支持反变性，</p>
<p>说   <strong>这个泛型接口支持对T的协变</strong>。</p>
<h3 id="NET-4-0引入的泛型协变、反变性"><a href="#NET-4-0引入的泛型协变、反变性" class="headerlink" title=".NET 4.0引入的泛型协变、反变性"></a>.NET 4.0引入的泛型协变、反变性</h3><p>但在.NET 4.0之前，无论C#还是VB里都不支持泛型接口的可变性。</p>
<p>不过它们都支持委托参数类型的协变和反变。委托参数类型的可变性理解起来抽象度较高。<br>在.NET 4.0之前为什么不允许IFoo&lt;T&gt;进行协变或反变呢？因为对接口来讲，T这个类型参数既可以用于方法参数，也可以用于方法返回值。<br>.NET 4.0改进了什么呢？它允许在类型参数的声明时增加一个额外的描述，以确定这个类型参数的使用范围。<br>我们看到，如果一个类型参数仅仅能用于函数的返回值，那么这个类型参数就对协变相容。而相反，一个类型参数如果仅能用于方法参数，那么这个类型参数就对反变相容。</p>
<h1 id="依赖注入（DI）与控制反转（IOC）"><a href="#依赖注入（DI）与控制反转（IOC）" class="headerlink" title="依赖注入（DI）与控制反转（IOC）"></a>依赖注入（DI）与控制反转（IOC）</h1><p>为什么需要DI，见Asp.net core in action第二版 第十章</p>
<p>随着DI的频繁使用，要实现IOC，会有很多重复代码，甚至随着技术的发展，有更多新的实现方法和方案，那么有人就把这些实现IOC的代码打包成组件或框架，来避免人们重复造轮子。</p>
<p>所以实现IOC的组件或者框架，我们可以叫它IOC Container。</p>
<p>IoC是一种很宽泛的理念，DI是实现了IoC的其中一种方法。</p>
<p>微软怎么说：</p>
<p>ASP.NET Core supports the dependency injection (DI) software design pattern, which is a technique for achieving Inversion of Control (IoC) between classes and their dependencies.</p>
<p>地址：<a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2</a></p>
<p>翻译过来就是“ASP.NET Core支持依赖注入（DI）的软件设计模式，该模式是一种在类和它依赖的对象之间实现了控制反转（IoC）的技术”。</p>
<p>如果有人觉得辣鸡微软不够权威，那我们去看下IoC以及DI这两个概念的发明人——Martin Fowler怎么说：</p>
<p>几位轻量级容器的作者曾骄傲地对我说：这些容器非常有用，因为它们实现了控制反转。这样的说辞让我深感迷惑：控制反转是框架所共有的特征，如果仅仅因为使用了控制反转就认为这些轻量级容器与众不同，就好象在说我的轿车是与众不同的，因为它有四个轮子。</p>
<p>因此，我想我们需要给这个模式起一个更能说明其特点的名字——”控制反转”这个名字太泛了，常常让人有些迷惑。经与多位IoC 爱好者讨论之后，我们决定将这个模式叫做”依赖注入”（Dependency Injection）。</p>
<p>地址：<a target="_blank" rel="noopener" href="http://insights.thoughtworkers.org/injection/">http://insights.thoughtworkers.org/injection/</a></p>
<p>Martin Fowler说的比较委婉，其实说白了就是建议我们，不要乱用IoC装逼，IoC是一种设计理念，很宽泛，你把程序里的一个写死的变量改成从配置文件里读取也是一种控制反转（由程序控制反转为由框架控制），你把这个配置改成用户UI界面的一个输入文本框由用户输入也是一种控制反转（由框架控制反转为由用户自己控制）。</p>
<p>所以，如果确定讨论的模式是DI，那么就表述为DI，还是尽量少用IoC这种宽泛的表达。</p>
<h1 id="SQL-Server-LocalDB"><a href="#SQL-Server-LocalDB" class="headerlink" title="SQL Server LocalDB"></a>SQL Server LocalDB</h1><p>是SQL Server的一个超级精简版本，它适合只想学基础的SQL和T-SQL的同学；或用于完成只在本地运行的大作业。</p>
<p>而对于想学好SQL Server本身的同学来说，配置服务器的网络是非常重要的环节，无法跳过不学。</p>
<h1 id="ODBC"><a href="#ODBC" class="headerlink" title="ODBC"></a>ODBC</h1><p>开放数据库连接（Open Database Connectivity，<em>ODBC</em>）：解决异构数据库间的数据共享而产生的，</p>
<p><strong><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F">数据库管理系统</a>（DBMS)</strong></p>
<p><strong>RDBMS 关系数据库系统</strong></p>
<p><strong>ODBC</strong>（<strong>Open Database Connectivity</strong>，开放数据库互连）提供了一种标准的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3">API</a>（<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3">应用程序编程接口</a>）方法来访问<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F">数据库管理系统</a>（DBMS）。</p>
<p>与具体的编程语言无关，与具体的数据库系统无关，与具体的操作系统无关。</p>
<h1 id="DTO"><a href="#DTO" class="headerlink" title="DTO"></a>DTO</h1><p>Data Transfer Object：数据传输对象。</p>
<p>DTO就是前后端数据交互中用来承载数据的对象，这个对象被填充数据后就会被序列化为json、xml或其他格式，然后通过http等网络协议发送给对方。</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/loveis715/p/4379656.html">DTO – 服务实现中的核心数据</a></p>
<p>在一个服务实现中较为常见的数据表现形式有MO（Model Object，在有些上下文中也被称为VO，Value Object）和DTO（Data Transfer Object）。MO用来表示从数据库中读取的数据，而DTO则用来表示在网络上所传输的数据。</p>
<p>在一个复杂的系统中，数据库中的数据表示与系统中所传输的数据之间常常是不同的数据结构。常见的情况则是将其分为两类：一类用来访问数据库，在系统中表现数据库中所记录的数据，叫MO，即Model Object；另一类用来在网络中传输，叫DTO，即Data Transfer Object。</p>
<p>一个最简单的Web服务主要分为数据访问层（DAL），业务逻辑层以及表现层三个部分。</p>
<p>当数据从DAL层读取出来的时候，其所记录的数据与数据库中所记录的数据是一致的，它们就是MO。</p>
<p>而在传输给客户端的时候，这些数据可能会和MO不同，因此其为DTO。</p>
<p>在所需要的数据和数据库所记录的数据不再一样的时候，我们就需要考虑是否需要在项目中添加DTO了。</p>
<p><strong>贫血的DTO</strong>：DTO中只包含数据，并没有包含任何行为。</p>
<p>它并不擅长，甚至是不适合在业务逻辑中表示一个复杂概念。一个复杂概念常常与一些可重用的复杂逻辑关联，但这正是DTO所不能办到的。</p>
<p>在服务端添加一个业务逻辑表现，即BO（Business Object）。在这种情况下，MO将不会直接转化为DTO，而是转化为BO。在所有业务处理完毕并需要将数据发送给客户的时候，BO将转化为DTO以进行传输。</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image004.png"></p>
<p>而在客户端，我们同样可以引入一层新的更适合于页面逻辑的数据表现。这种数据表现被称为VM（ViewModel）</p>
<p>DAO则是一种组织数据库访问逻辑的一种标准<strong>模式</strong>。也就是说，与其对应的应该是Repository模式等一系列数据访问的常用方法。因此在最后，重强调DAO和MO并不是一个概念。</p>
<h1 id="仓储-Respository-模式"><a href="#仓储-Respository-模式" class="headerlink" title="仓储 Respository 模式"></a>仓储 Respository 模式</h1><p>它是软件设计模式的一部分。</p>
<p>I’ve noticed in the .NET world specifically the term “Repository” is used to refer to what is essentially a DAO; “DAO” is more of a Java term. </p>
<h2 id="DAO-：-Data-access-object-for-database-operations-如CRUD"><a href="#DAO-：-Data-access-object-for-database-operations-如CRUD" class="headerlink" title="DAO ： Data access object  for database operations (如CRUD)"></a>DAO ： Data access object  for database operations (如CRUD)</h2><p>The Data Access Object is basically an object or an interface that provides access to an underlying database or any other persistence storage.</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image005.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image006.png"></p>
<p>The Employee DAO will contain methods to insert/delete/update/select employee(s)</p>
<p>Why we use DAO</p>
<p>If your application uses stored procedures and database-specific code (such as generating a number sequence), how do you handle that in your application? You have two options:</p>
<p>·     Rewrite your application to use SQL Server instead of Oracle (or add conditional code to handle the differences), or</p>
<p>·     Create a layer inbetween your application logic and the data access</p>
<p> Its in all referred as <strong>DAO Pattern</strong>, It consist of following:</p>
<p><strong>Data Access Object Interface</strong></p>
<p><strong>Data Access Object concrete class</strong></p>
<p><strong>Model Object or Value Object</strong> This object is <em>simple POJO</em></p>
<h2 id="Repository-vs-DAO"><a href="#Repository-vs-DAO" class="headerlink" title="Repository vs DAO"></a><a target="_blank" rel="noopener" href="https://blog.sapiensworks.com/post/2012/11/01/Repository-vs-DAO.aspx">Repository vs DAO</a></h2><p>the difference starts to show up when you have more complex apps with complex business behavior. </p>
<p> they have different intentions in mind.</p>
<p>A DAO is much closer to the underlying storage , A DAO allows for a simpler way to get data from a storage, hiding the ugly queries. But the important part is that they return data as in <strong>object state</strong>.</p>
<p>A repository sits at a higher level. It deals with data too and hides queries and all that but, a repository deals with<strong>business/domain objects</strong>. That’s the difference. use a DAO to get the data from the storage and uses that data to restore a business object.</p>
<p> most of the time a specialized query repository is <strong>just a DAO sending DTOs to a higher layer.</strong></p>
<p><strong>the intention of the repository is to isolate the domain objects from the database access concerns. This is the important part.</strong> The fact that the repository is using a collection-like interface, doesn’t mean you MUST treat it as a collection and you MUST have ONLY Add/Remove/Get/Find functionality. Really, it’s not a dogma and you don’t have to apply it by the letter.</p>
<p><strong>programming is not a religion</strong>. But developers trend to disagree and adopt it as a religion. It’s kind annoying and it is the reason why I hate the programming community.</p>
<p>Back to Repository and DAO, in conclusion, they have similar intentions only that the Repository is a higher level concept dealing directly with business/domain objects, while DAO is more lower level, closer to the database/storage dealing only with data. A (micro)ORM is a DAO that is used by a Repository. For data-centric apps, a repository and DAO are interchangeable because the ‘business’ objects are simple data.</p>
<p>Dao (methods, insert(),update(), etc.)</p>
<p>repo(methods (addCustomer(), calculateDebt()) but they also could insert(),update()</p>
<p>Repository是对象的仓库，也就是保存对象的地方，这个仓库就是我们普通意义的仓库，一个真正OO系统，业务层是围绕活动的对象进行，活动的对象是从仓库中获取的，也是通过交给仓库进行对象长久保管，也就是持久化意思，说白了，就是保存到数据库。</p>
<p>仓库和工厂一般配合在一起使用，工厂用来创建对象，不过是从仓库中。</p>
<p>Repository=对象工厂+对象缓存+DAO 是这样一个组成。</p>
<p>DAO主要的工作是负责对象的存取，不应该将对象的管理放在DAO中。</p>
<p>而Repository除了可以存取对象外，还应包括对对象的管理。</p>
<p>我个人认为：Repository = 对象的管理 ＋ DAO。对象的管理如：对象缓存，对象在Repository的状态等。</p>
<p>DAO是对象访问接口类.接口类=方法的管理类</p>
<p>repository是对象仓库类.仓库类=对象的管理类</p>
<p>至于DAO是不是取消，就看DAL的设计了</p>
<p>业务是只管从仓库（Repository）中取出他所需要的对象，而不关心是从哪里存取，这些是Repository 的事情，Repository 可能通过DAO将数据完成持久化</p>
<p>repository是domain概念，dao是program概念。主要是看问题的角度和层次不同。</p>
<p>DAO就是数据库访问层，提供数据库CRUD操作。被包含在Reposirtory之内。</p>
<p>如果业务层直接调用DAO层，那么系统设计应该趋向数据库设计。</p>
<h1 id="分层架构"><a href="#分层架构" class="headerlink" title="分层架构"></a>分层架构</h1><p>分层架构是一种常见的架构模式（架构风格），也叫N层架构，常见的2层C/S，B/S架构，三层架构MVC，MVP架构，操作系统的内核架构达到5层，3层以上的架构比较少见。</p>
<h2 id="经典三层架构"><a href="#经典三层架构" class="headerlink" title="经典三层架构"></a>经典三层架构</h2><p>经典三层架构自顶向下由用户界面层（User Interface Layer）、业务逻辑层（Business Logic Layer）与数据访问层（Data Access Layer）组成。</p>
<p> <img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image007.png"></p>
<h2 id="领域驱动设计提出的四层架构。"><a href="#领域驱动设计提出的四层架构。" class="headerlink" title="领域驱动设计提出的四层架构。"></a>领域驱动设计提出的四层架构。</h2><p>当然，DDD并不是分层架构，分层架构只是DDD的一个技术构造。</p>
<p>在用户界面层与业务逻辑层之间引入了新的一层，即应用层（Application Layer）。将业务逻辑层更名为领域层。将数据访问层更名为基础设施层。</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image008.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image009.png"></p>
<p>会发现领域层只依赖于应用程序框架服务，仓储采用了接口分离模式将实现和接口分离到不同的程序集，</p>
<h2 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h2><p>聚合这个概念很好理解，就是包含关系。</p>
<p>在UML中有两种包含关系，第一种叫聚合，表示比较弱的包含关系，聚合内部的东西在外面可以直接访问。</p>
<p>第二种叫组合，即组成聚合，是很强的包含关系，表示外部的对象由内部的多个子对象组成，内部的子对象在外面不能直接访问，必须通过外部的对象间接引用。</p>
<p>DDD虽然用了聚合这个词，但它表示UML中的组成聚合，所以它把外部的对象称为根，即聚合根，要访问内部对象，必须先访问聚合根。</p>
<p>聚合的主要影响是显著减少仓储数量，以及集中管理高度依赖的相关实体。</p>
<p>把高度相关的实体内聚到一个聚合中，可以把这些依赖关系封装到一个更小的空间，外部只与聚合根打交道，与聚合内部子对象的依赖关系就会明显降低。</p>
<p>一个聚合对应一个仓储，而不是一个实体对象一个仓储，可以减少仓储数量，从而进一步降低依赖关系。</p>
<p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiadao521/p/4098100.html">应用程序框架实战十三:DDD分层架构之我见</a></p>
<h2 id="DDD-Domain-Driven-Design"><a href="#DDD-Domain-Driven-Design" class="headerlink" title="DDD: Domain-Driven Design"></a>DDD: Domain-Driven Design</h2><p>之后我开始学习EF和MVC，在刚开始接触EF的时候，我从一些博客了解到，为了发挥EF的威力，必须使用DDD进行设计。学习过程中才发现面向对象和敏捷开发才是关键</p>
<p>DDD的核心思想是描述如何使用面向对象的方法对业务领域建模，怎样获得更好的领域模型。虽然看了不少DDD的资料，但还是感觉它异常抽象，</p>
<h1 id="TDD-Test-Driven-Development"><a href="#TDD-Test-Driven-Development" class="headerlink" title="TDD Test-Driven Development"></a>TDD Test-Driven Development</h1><h1 id="Attribute"><a href="#Attribute" class="headerlink" title="Attribute"></a>Attribute</h1><p>C#的attribute（特性），在java上叫作annotation（注解），是一个反射相关的功能。</p>
<p>补充类，字段，方法受限于语法本身不足以描述的部分。</p>
<p>attribute本身，就是个标记，没什么功能。</p>
<p>但是，别的工具、框架在做事的时候，会看相关的Attribute，做相应的处理。</p>
<p>就是这么起作用的。</p>
<p>如果我想一个类或一个属性有个注释,好方便我判断调用,怎么办,没有Attribute和注解,那只能是在配置文件里做映射,</p>
<h1 id="POCO"><a href="#POCO" class="headerlink" title="POCO"></a>POCO</h1><p>“Plain Old C# Object”</p>
<p>just a normal class, no attributes describing infrastructure concerns or other responsibilities that your domain objects shouldn’t have.</p>
<p>In other words, they don’t derive from some special base class, nor do they return any special types for their properties.</p>
<h1 id="序列化-serialization和持久化Persistence"><a href="#序列化-serialization和持久化Persistence" class="headerlink" title="序列化 serialization和持久化Persistence"></a>序列化 serialization和持久化Persistence</h1><p><strong>序列化</strong>（serialization）指将数据结构或对象状态转换成可取用格式（例如存成文件，存于缓冲，或经由网络中发送），以留待后续在相同或另一台计算机环境中，能恢复原先状态的过程。</p>
<p>Serialisation is the process of turning an object into a series of bytes for transferring or storing. Saving the created objects in the sequence of bytes…</p>
<p><strong>序列化格式</strong></p>
<ul>
<li><p>90年代后期开始推动标准序列化的协议：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/XML">XML</a>（可扩展标记语言）应用于产生人类可读的文字编码。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/JSON">JSON</a>是一种轻量级的纯文字替代，也常用于网页应用中的客端－服务端通信。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/YAML">YAML</a>，它包含加强序列化的功能，更“人性化”而且更扎实。这些功能包括标记资料类型，支持非层次结构式数据结构，缩进结构化资料的选项以及多种形式的标量资料引用的概念。</p>
</li>
<li><p>另一种可读的序列化格式是<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8">属性列表</a>（property list）。应用在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NeXTSTEP">NeXTSTEP</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/GNUstep">GNUstep</a>和<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MacOS">macOS</a> <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Cocoa">Cocoa</a>环境中。</p>
</li>
<li><p>针对于科学使用的大量资料集合，例如气候，海洋模型和卫星数据，已经开发了特定的二进制序列化标准，例如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HDF">HDF</a>，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NetCDF">netCDF</a>和较旧的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/GRIB">GRIB</a>。</p>
</li>
</ul>
<p><strong>Advantages of Serialization</strong></p>
<ol>
<li>To save/persist state of an object.</li>
<li>To travel an object across a network.</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.guru99.com/c-sharp-serialization.html">C# Serialization &amp; Deserialization with Example</a>  [Serializable] attribute.</p>
<h1 id="Client-Side-VS-Server-Side"><a href="#Client-Side-VS-Server-Side" class="headerlink" title="Client-Side VS. Server-Side"></a>Client-Side VS. Server-Side</h1><p>Client-side means that the action takes place on the user’s (the client’s) computer. </p>
<p>Server-side means that the action takes place on a web server.</p>
<p>When we say action we mean all that work that programming languages do. </p>
<p>Almost every computer in the world understands one programming language: JavaScript. For this reason, most things that can be accomplished using JavaScript can be done without needing access to a web server.</p>
<p>Client-side vs. server-side describes where the action takes place (literally on your computer vs. a server). Frontend vs. backend refers to what kind of action is taking place.</p>
<h1 id="Single-page-application-SPA-vs-multiple-page-application-MPA"><a href="#Single-page-application-SPA-vs-multiple-page-application-MPA" class="headerlink" title="Single-page application (SPA). vs. multiple-page application (MPA)"></a>Single-page application (SPA). vs. multiple-page application (MPA)</h1><p> If you are thinking about creating your own application, you’ve probably heard that there are two main design patterns for web apps.</p>
<p>To decide what app model is better for you, you should follow content-first approach, which emphasizes the importance of putting your application content before everything else. That’s because content is the main reason for which users will or won’t use the application. </p>
<p><strong>Single-Page Application</strong></p>
<p>A single-page application is an app that works inside a browser and does not require page reloading during use. You are using this type of applications every day. These are, for instance: Gmail, Google Maps, Facebook or GitHub.</p>
<p>no page reloads, no extra wait time. It is just one web page that you visit which then loads all other content using JavaScript — which they heavily depend on.</p>
<p>SPA requests the markup and data independently and renders pages straight in the browser. We can do this thanks to the advanced JavaScript frameworks like AngularJS, Ember.js, Meteor.js, Knockout.js .<br> Single-page sites help keep the user in one, comfortable web space where content is presented to the user in a simple, easy and workable fashion.</p>
<p><strong>Pros of the Single-Page Application:</strong></p>
<p>SPA is fast, as most resources (HTML+CSS+Scripts) are only loaded once throughout the lifespan of application. Only data is transmitted back and forth.</p>
<p><a target="_blank" rel="noopener" href="https://medium.com/@NeotericEU/single-page-application-vs-multiple-page-application-2591588efe58">https://medium.com/@NeotericEU/single-page-application-vs-multiple-page-application-2591588efe58</a><br><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image010.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image011.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image012.png"></p>
<h1 id="AOP-OOP-POP"><a href="#AOP-OOP-POP" class="headerlink" title="AOP, OOP, POP"></a>AOP, OOP, POP</h1><p>POP: 注重功能性的实现，效果达到就好了</p>
<p>OOP: 注重封装，强调整体性的概念，将对象的内部组织与外部环境区分开来。</p>
<p>AOP： Aop 可以实现如事务，缓存，权限验证的功能。</p>
<p>复用代码：1. 继承的方式（纵向扩展）2. 组合/聚合（横向扩展，这就是AOP）</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image013.png"></p>
<p>We may often see a particular lines of code becomes bigger as it grows, even up to the point where it becomes harder to understand its original business logic because the code already cluttered with other things, such as logging, authorization, validation, performance checker, etc.</p>
<p><strong>但是</strong>随着软件开发的系统越来越复杂，工程师认识到，传统的OOP程序经常表现出一些不自然的现象，核心业务中总掺杂着一些不相关联的特殊业务，如<strong>日志记录，权限验证，事务控制，性能检测，错误信息检测</strong>等等，这些特殊业务可以说和核心业务没有根本上的关联而且核心业务也不关心它们。这样就会造成如下问题：</p>
<p>代码混乱：核心业务模块可能需要兼顾处理其他不相干的业务外围操作，这些外围操作可能会混乱核心操作的代码，而且当外围模块有重大修改时也会影响到核心模块，这显然是不合理的。</p>
<p>代码分散和冗余：同样的功能代码，在其他的模块几乎随处可见，导致代码分散并且冗余度高。</p>
<p>代码质量低扩展难：由于不太相关的业务代码混杂在一起，无法专注核心业务代码，当进行类似无关业务扩展时又会直接涉及到核心业务的代码，导致拓展性低。</p>
<p>显然前面分析的<strong>两种解决方案已束手无策了</strong>？，那么该如何解决呢？事实上我们知道诸如日志，权限，事务，性能监测等业务几乎涉及到了所有的核心模块，如果把这些特殊的业务代码直接到核心业务模块的代码中就会造成上述的问题，而工程师更希望的是这些模块可以实现热插拔特性而且无需把外围的代码入侵到核心模块中，这样在日后的维护和扩展也将会有更佳的表现，假设现在我们把日志、权限、事务、性能监测等外围业务看作单独的关注点(也可以理解为单独的模块)，每个关注点都可以在需要它们的时刻及时被运用而且无需提前整合到核心模块中，这种形式相当下图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image014.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image015.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image016.png"></p>
<p>每个关注点与核心业务模块分离，每份功能代码不再单独入侵到核心业务类的代码中。</p>
<p>这些外围业务会通过一种特殊的技术自动应用到核心模块中</p>
<p>adding additional behavior to existing code (an advice) without modifying the code itself</p>
<p>这些关注点有个特殊的名称，叫做“横切关注点”，上图也很好的表现出这个概念，另外这种抽象级别的技术也叫<strong>AOP（面向切面编程）</strong></p>
<p>AOP面向切面编程(Aspect Oriented Programming)是通过<strong>预编译方式和运行期动态代理</strong>实现<strong>程序功能的统一维护</strong>的一种技术。</p>
<p>AOP的<strong>本质是通过代理对象来间接执行真实对象</strong>，在代理类中往往会<strong>添加装饰一些额外的业务代码</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image017.png"></p>
<p>想在<strong>设置属性前后</strong>及<strong>调用方法前后</strong>或<strong>报错</strong>都能收集日志信息，将原有的真实类RealA委托给代理类ProxyRealA来执行，</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image018.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image019.png"></p>
<p>拦截点（或者称为：横切面，切面点）一般主要为：<strong>执行前，执行后，发生错误</strong>，</p>
<p>好处：核心代码部分在基类中，只专注于核心代码</p>
<p>新问题又来了，那就是<strong>当一个系统中的类非常多的时候</strong>，如果我们针对每个类都定义一个代理类，那么系统的<strong>类的个数会成倍增加，而且不同的代理类中可能某些拦截业务逻辑代码都是相同的</strong>，</p>
<p>几种常见的实现AOP的方式：</p>
<p>一种是编译时静态植入，优点是效率高，缺点是缺乏灵活性，.net下postsharp为代表者（好像是付费了。。）。</p>
<p>另一种方式是动态代理，优点是灵活性强，但是会影响部分效率，动态为目标类型创建代理，通过代理调用实现拦截。</p>
<h3 id="第一种：静态织入"><a href="#第一种：静态织入" class="headerlink" title="第一种：静态织入"></a>第一种：静态织入</h3><p>编译器将代码注入到拦截点</p>
<p>PostSharp:PostSharp的Aspect是使用<strong>Attribute</strong>实现的。</p>
<p>我们只需事先通过继承自<strong>OnMethodBoundaryAspect</strong>，然后重写几个常见的方法即可，如：OnEntry，OnExit等，最后只需要在需要进行AOP拦截的属性或方法上加上AOP拦截特性类即可。</p>
<p>由于PostSharp是静态织入的，所以相比其它的通过反射或EMIT反射来说效率是最高的，但PostSharp是收费版本的，而且网上的教程比较多，我就不在此重复说明了。</p>
<h3 id="第二种：EMIT反射"><a href="#第二种：EMIT反射" class="headerlink" title="第二种：EMIT反射"></a>第二种：EMIT反射</h3><p>Emit反射动态生成代理类</p>
<p>如下<code>Castle.DynamicProxy</code>的AOP实现方式，代码也还是比较简单的，效率相对第一种要慢一点，但对于普通的反射来说又高一些</p>
<h1 id="A-command-line-interface-CLI"><a href="#A-command-line-interface-CLI" class="headerlink" title="A command-line interface (CLI)"></a>A command-line interface (CLI)</h1><h1 id="Autofac"><a href="#Autofac" class="headerlink" title="Autofac"></a>Autofac</h1><p>相关术语：</p>
<p><strong>组件</strong>：理解为容器内的基本单元,每个组件都有自己的信息：比如暴露的服务类型、生命周期域、绑定的具象对象等。</p>
<p><strong>服务</strong>：</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image020.png">                               </p>
<p> 不需要一个一个注册的，运用批量注册后容器内部的代码是这样的，可以直接批量注册所有的</p>
<p>注册方式</p>
<p>泛型注册：</p>
<p>builder.RegisterType<Class_1>();</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image021.png"></p>
<p>Lambda注册：</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image022.png"></p>
<h1 id="Restful-api"><a href="#Restful-api" class="headerlink" title="Restful api"></a>Restful api</h1><p>使用一般的 API 點菜，我要加點、查看已點菜色、修改已點菜色、取消已點菜色，都需要不同的服務生替我服務。</p>
<p>RESTful API 主要由三種元件組成：</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image023.png"></p>
<p>Nouns 名詞：定義資源位置的 URL，每個資源在網路上都會有唯一的位置，就如每戶人家都有唯一的地址一樣。</p>
<p>Verbs 動詞：對資源要做的動作。</p>
<p>Content Types 資源呈現方式：API 資源可以以多種方式表現，最常用的是 JSON，較輕，也較好處理。</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image024.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image025.png"></p>
<h1 id="Cookie-session-token"><a href="#Cookie-session-token" class="headerlink" title="Cookie session token"></a>Cookie session token</h1><p>Exchange your username and password for cookie containing the session Id </p>
<p>The Cookie is only the medium used to transport the session Id,and it used because it is convenient</p>
<p>服务器保存session Id, 你保存cookie中的session id 在文件中，Id 是随机生成的，当登出后，服务器删除id, 并指示将客户端的id也删除，这就是 <strong>cookie-based Authentication</strong></p>
<p>Tokens tend not to need a session on the server but they may have one  in the case jwt token, it contains the session information as well, so it contains actual data about you as user.</p>
<p><strong>Most of time tokens are being sent using HTTP headers and not cookies.</strong> The reason is nowadays many interactions happened outside of browsers</p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image026.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/image027.png"></p>
<p><code>AddAuthentication</code> adds the auth services whereas <code>UseAuthentication</code>adds the .NET Core’s authentication middleware to the pipeline.</p>
<p>If you have your own custom middleware, you don’t need <code>UseAuthentication</code></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">pilotqvq</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://c-parrot.github.io/2021/06/03/nouns-reference-1">https://c-parrot.github.io/2021/06/03/nouns-reference-1</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/名词解释/TIM截图20190412213930.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/06/08/Kaggle-get-start-data-analysis"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/UE4基础/QQ截图20210605171810.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Kaggle入门比赛 - 笔记</div></div></a></div><div class="next-post pull-right"><a href="/2021/05/28/visual-studio-note"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/c-parrot/source/img/blog/vs/TIM截图20180706132730.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">宇宙最强IDE使用指南-VS</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JWT%E6%9D%83%E9%99%90%E9%AA%8C%E8%AF%81"><span class="toc-number">1.</span> <span class="toc-text">JWT权限验证</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Bearer-Authentication"><span class="toc-number">1.1.</span> <span class="toc-text">Bearer Authentication</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON-Web-Tokens-JWT"><span class="toc-number">1.2.</span> <span class="toc-text">JSON Web Tokens (JWT)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%8F%E5%8F%98%E5%92%8C%E9%80%86%E5%8F%98-C"><span class="toc-number">2.</span> <span class="toc-text">协变和逆变 (C#)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86%EF%BC%9A%E5%8D%8F%E5%8F%98%E5%92%8C%E5%8F%8D%E5%8F%98"><span class="toc-number">2.0.1.</span> <span class="toc-text">背景知识：协变和反变</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NET-4-0%E5%BC%95%E5%85%A5%E7%9A%84%E6%B3%9B%E5%9E%8B%E5%8D%8F%E5%8F%98%E3%80%81%E5%8F%8D%E5%8F%98%E6%80%A7"><span class="toc-number">2.0.2.</span> <span class="toc-text">.NET 4.0引入的泛型协变、反变性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%EF%BC%88DI%EF%BC%89%E4%B8%8E%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%EF%BC%88IOC%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">依赖注入（DI）与控制反转（IOC）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL-Server-LocalDB"><span class="toc-number">4.</span> <span class="toc-text">SQL Server LocalDB</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ODBC"><span class="toc-number">5.</span> <span class="toc-text">ODBC</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DTO"><span class="toc-number">6.</span> <span class="toc-text">DTO</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%93%E5%82%A8-Respository-%E6%A8%A1%E5%BC%8F"><span class="toc-number">7.</span> <span class="toc-text">仓储 Respository 模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DAO-%EF%BC%9A-Data-access-object-for-database-operations-%E5%A6%82CRUD"><span class="toc-number">7.1.</span> <span class="toc-text">DAO ： Data access object  for database operations (如CRUD)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Repository-vs-DAO"><span class="toc-number">7.2.</span> <span class="toc-text">Repository vs DAO</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">8.</span> <span class="toc-text">分层架构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">8.1.</span> <span class="toc-text">经典三层架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E6%8F%90%E5%87%BA%E7%9A%84%E5%9B%9B%E5%B1%82%E6%9E%B6%E6%9E%84%E3%80%82"><span class="toc-number">8.2.</span> <span class="toc-text">领域驱动设计提出的四层架构。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%9A%E5%90%88"><span class="toc-number">8.3.</span> <span class="toc-text">聚合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DDD-Domain-Driven-Design"><span class="toc-number">8.4.</span> <span class="toc-text">DDD: Domain-Driven Design</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TDD-Test-Driven-Development"><span class="toc-number">9.</span> <span class="toc-text">TDD Test-Driven Development</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Attribute"><span class="toc-number">10.</span> <span class="toc-text">Attribute</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#POCO"><span class="toc-number">11.</span> <span class="toc-text">POCO</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96-serialization%E5%92%8C%E6%8C%81%E4%B9%85%E5%8C%96Persistence"><span class="toc-number">12.</span> <span class="toc-text">序列化 serialization和持久化Persistence</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Client-Side-VS-Server-Side"><span class="toc-number">13.</span> <span class="toc-text">Client-Side VS. Server-Side</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Single-page-application-SPA-vs-multiple-page-application-MPA"><span class="toc-number">14.</span> <span class="toc-text">Single-page application (SPA). vs. multiple-page application (MPA)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AOP-OOP-POP"><span class="toc-number">15.</span> <span class="toc-text">AOP, OOP, POP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%EF%BC%9A%E9%9D%99%E6%80%81%E7%BB%87%E5%85%A5"><span class="toc-number">15.0.1.</span> <span class="toc-text">第一种：静态织入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%EF%BC%9AEMIT%E5%8F%8D%E5%B0%84"><span class="toc-number">15.0.2.</span> <span class="toc-text">第二种：EMIT反射</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#A-command-line-interface-CLI"><span class="toc-number">16.</span> <span class="toc-text">A command-line interface (CLI)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Autofac"><span class="toc-number">17.</span> <span class="toc-text">Autofac</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Restful-api"><span class="toc-number">18.</span> <span class="toc-text">Restful api</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Cookie-session-token"><span class="toc-number">19.</span> <span class="toc-text">Cookie session token</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By pilotqvq</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="/js/search/algolia.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: 'e53a0a1cfef738bdcf12',
      clientSecret: '78d3614c9635daf100666db51131822370f2fa50',
      repo: 'C-Parrot.github.io',
      owner: 'c-parrot',
      admin: ['c-parrot'],
      id: '4efac9b48b8fc35f1ddc28a15adba966',
      language: 'en',
      perPage: 10,
      distractionFreeMode: false,
      pagerDirection: 'last',
      createIssueManually: false,
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>function history_calendar_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今日</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
                console.log('已挂载history_calendar')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='/'|| '/' ==='all')){

            history_calendar_injector_config()
        } </script><script data-pjax  src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><!-- hexo injector body_end end --></body></html>